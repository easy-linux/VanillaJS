/**
 * @module Common/Constants
 * @category Common
 * @description Модуль констант игры Eat and Run
 * 
 * Этот модуль содержит:
 * - Игровые константы (размеры поля, количество объектов)
 * - Временные настройки (длительность раунда)
 * - Ограничения игровой механики (максимальный размер игрока)
 * - Типы WebSocket сообщений для клиент-серверного взаимодействия
 * - Общие настройки, используемые как на сервере, так и на клиенте
 * 
 * @example
 * import { FIELD_SIZE, MAX_PLAYER_SIZE, messageTypes } from './constants.js';
 * 
 * // Использование игровых констант
 * const playerSize = Math.min(playerSize, MAX_PLAYER_SIZE);
 * 
 * // Использование типов сообщений
 * ws.send(JSON.stringify({ type: messageTypes.MOVE, vx: 2, vy: 0 }));
 */

/**
 * Количество еды, создаваемое при инициализации игры
 * Еда появляется случайно по всему игровому полю
 * Игроки могут поедать еду для увеличения своего размера
 */
export const INITIAL_FOOD_COUNT = 600;

/**
 * Количество бомб, создаваемое при инициализации игры
 * Бомбы появляются случайно по всему игровому полю
 * При столкновении с бомбой игрок взрывается и теряет размер
 */
export const INITIAL_BOMBS_COUNT = 20;

/**
 * Размер игрового поля в пикселях
 * Поле представляет собой квадрат размером 5000x5000 пикселей
 * Игроки могут свободно перемещаться в пределах этого поля
 */
export const FIELD_SIZE = 5000;

/**
 * Количество ботов (ИИ игроков) в игре
 * Боты автоматически ищут еду и других игроков для поедания
 * Они добавляют динамику и конкуренцию в игру
 */
export const BOT_COUNT = 10;

/**
 * Максимальный размер игрока в пикселях
 * Игроки не могут вырасти больше этого значения
 * Это ограничение предотвращает доминирование одного игрока
 */
export const MAX_PLAYER_SIZE = 150;

/**
 * Длительность одного раунда игры в миллисекундах
 * Раунд длится 5 минут (60 * 1000 * 5 = 300000 мс)
 * После окончания раунда игра автоматически перезапускается
 */
export const ROUND_TIME = 60 * 1000 * 5; // 5 minutes in milliseconds

/**
 * Размер мини-карты в пикселях
 * Мини-карта отображается в правом нижнем углу экрана
 * Показывает позиции всех игроков и бомб в масштабированном виде
 */
export const MAP_SIZE = 150;

/**
 * Максимальное количество реальных игроков в игре
 * Ограничивает количество одновременных WebSocket соединений
 * Боты не учитываются в этом лимите
 */
export const MAX_PLAYER_COUNT = 5;

/**
 * Типы WebSocket сообщений для клиент-серверного взаимодействия
 * Каждый тип сообщения имеет определенное назначение в игровой логике
 */
export const messageTypes = {
    /**
     * Инициализация игрока при подключении
     * Сервер отправляет игроку его ID и начальные настройки
     */
    INIT: 'init',
    
    /**
     * Уведомление о перезапуске игры
     * Отправляется всем игрокам при начале нового раунда
     */
    GAME_RESTARTED: 'gameRestarted',
    
    /**
     * Уведомление о завершении игры
     * Отправляется игроку при его взрыве или окончании раунда
     */
    GAME_OVER: 'gameOver',
    
    /**
     * Обновление игрового состояния
     * Содержит актуальные данные о позициях игроков, еды и бомб
     */
    GAME_UPDATE: 'gameUpdate',
    
    /**
     * Команда движения игрока
     * Клиент отправляет серверу направление и скорость движения
     */
    MOVE: 'move',
    
    /**
     * Установка имени игрока
     * Клиент отправляет серверу желаемое имя для отображения
     */
    SET_NAME: 'setName',
}
